<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>easyNotes</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      body {
        background: #f5f7fb;
        font-family: "Inter", sans-serif;
      }

      .navbar {
        background: linear-gradient(90deg, #007bff, #00c6ff);
      }

      .note-card {
        transition: all 0.2s ease;
        border: none;
        border-radius: 12px;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
      }

      .note-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 5px 12px rgba(0, 0, 0, 0.15);
      }

      .important-badge {
        background-color: #ff4d4d !important;
        font-size: 0.75rem;
      }

      .add-btn {
        position: fixed;
        bottom: 40px;
        right: 40px;
        border-radius: 50%;
        width: 60px;
        height: 60px;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
      }

      .modal-content {
        border-radius: 16px;
      }

      .empty-state {
        text-align: center;
        margin-top: 100px;
        color: #888;
      }

      .badge {
        margin-right: 3px;
      }
    </style>
  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark shadow-sm">
      <div class="container">
        <a class="navbar-brand fw-bold fs-4" href="/">üìù easyNotes</a>
      </div>
    </nav>

    <!-- Page Header -->
    <div class="container mt-5 text-center">
      <h2 class="fw-bold text-primary mb-2">Your Notes</h2>
      <p class="text-muted">Organize your thoughts ‚Äî simple, fast, and elegant</p>
    </div>

    <!-- Notes Grid -->
    <div class="container mt-4">
      <div class="row g-4">
        {% if newDocs %}
          {% for item in newDocs %}
          <div class="col-md-4 note-item"
              data-title="{{ item.title|lower }}"
              data-category="{{ item.category|lower }}"
              data-important="{{ item.important }}">
            <div class="card note-card p-3 h-100">
              <div class="d-flex justify-content-between align-items-start">
                <h5 class="fw-bold">{{ item.title }}</h5>
                {% if item.important %}
                <span class="badge bg-danger important-badge">Important</span>
                {% endif %}
              </div>
              <p class="mt-2 text-muted">{{ item.note }}</p>

              <div class="mt-3">
                <span class="badge bg-info text-dark">{{ item.category }}</span>
                {% for tag in item.tags %}
                <span class="badge bg-secondary">{{ tag }}</span>
                {% endfor %}
              </div>

              <div class="d-flex justify-content-between align-items-center mt-3">
                <small class="text-secondary">#{{ item.serial }}</small>
                <div>
                  <a href="/edit/{{ item.id }}" class="btn btn-sm btn-outline-primary me-2">Edit</a>
                  <form method="post" action="/delete/{{ item.id }}" style="display:inline;">
                    <button type="submit" class="btn btn-sm btn-outline-danger">Delete</button>
                  </form>
                </div>
              </div>
            </div>
          </div>
          {% endfor %}
        {% else %}
          <div class="empty-state">
            <img src="https://cdn-icons-png.flaticon.com/512/4076/4076500.png" width="120" alt="No notes">
            <h5 class="mt-3">No notes yet</h5>
            <p>Add your first note using the + button below</p>
          </div>
        {% endif %}
      </div>
    </div>

    <!-- Floating Add Button -->
    <button class="btn btn-primary add-btn" data-bs-toggle="modal" data-bs-target="#addNoteModal">
      +
    </button>

    <!-- Add Note Modal -->
    <div class="modal fade" id="addNoteModal" tabindex="-1" aria-labelledby="addNoteModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content shadow-lg">
          <div class="modal-header">
            <h5 class="modal-title fw-bold text-primary" id="addNoteModalLabel">Add New Note</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form method="post">
              <div class="mb-3">
                <label class="form-label fw-semibold">Title</label>
                <input type="text" class="form-control" name="title" placeholder="Enter note title" required>
              </div>
              <div class="mb-3">
                <label class="form-label fw-semibold">Description</label>
                <textarea class="form-control" name="note" rows="3" placeholder="Write your note..." required></textarea>
              </div>
              <div class="mb-3">
                <label class="form-label fw-semibold">Category</label>
                <select class="form-select" name="category">
                  <option>Personal</option>
                  <option>Work</option>
                  <option>Study</option>
                  <option>Ideas</option>
                  <option>Uncategorized</option>
                </select>
              </div>
              <div class="mb-3">
                <label class="form-label fw-semibold">Tags (comma-separated)</label>
                <input type="text" class="form-control" name="tags" placeholder="e.g., project, design, urgent">
              </div>
              <div class="form-check mb-3">
                <input class="form-check-input" type="checkbox" id="important" name="important">
                <label class="form-check-label" for="important">Mark as Important</label>
              </div>
              <div class="text-end">
                <button type="submit" class="btn btn-primary px-4 rounded-pill">Save Note</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
